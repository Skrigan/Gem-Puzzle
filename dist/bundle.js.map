{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://gem-puzzle/webpack/bootstrap","webpack://gem-puzzle/webpack/runtime/global","webpack://gem-puzzle/webpack/runtime/publicPath","webpack://gem-puzzle/./src/assets/click.mp3","webpack://gem-puzzle/./src/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","export default __webpack_public_path__ + \"5131c56ea28ca3e8e67b5828df69dd65.mp3\";","// import './scripts/main'\r\nimport click from './assets/click.mp3';\r\nimport './styles/main.scss'\r\n// import { Setup } from './scripts/setup.js'\r\n\r\nconst sizes = document.querySelector('.app__sizes');\r\nconst appGame = document.querySelector('.app__game');\r\nconst newGame = document.querySelector('.app-buttons__new-game');\r\nconst appInfoMoves = document.querySelector('.app-info__moves');\r\nconst appInfoTime = document.querySelector('.app-info__time');\r\nconst popupElem = document.querySelector('.popup');\r\nconst popupBodyElem = popupElem.querySelector('.popup__body')\r\nconst popupCloseElem = popupElem.querySelector('.popup__close');\r\nconst popupTimeElem = popupElem.querySelector('.popup__time');\r\nconst popupMovesElem = popupElem.querySelector('.popup__moves');\r\nconst appButtonsResults = document.querySelector('.app-buttons__results')\r\nconst topPopup = document.querySelector('.top-popup');\r\nconst topPopupTable = document.querySelector('.top-popup__table')\r\nconst appButtonsSound = document.querySelector('.app-buttons__sound');\r\nconst audio = new Audio();\r\naudio.src = click;\r\naudio.volume = 0.4;\r\nlet isSounded = true;\r\nlet moves = 0;\r\nlet size;\r\nif (localStorage.getItem('size')) {\r\n\tsize = localStorage.getItem('size')\r\n} else {\r\n\tsize = 4;\r\n}\r\nappGame.style.gridTemplateRows = `repeat(${size}, 1fr)`;\r\nappGame.style.gridTemplateColumns = `repeat(${size}, 1fr)`;\r\nlet setTime;\r\n\r\nwindow.addEventListener('resize', () => {\r\n\tif (window.matchMedia(\"(max-width: 600px)\").matches) fontSize();\r\n});\r\nfunction fontSize() {\r\n\tlet childWidth = ((appGame.getBoundingClientRect().width) - (size-1*10)) / size\r\n\tappGame.style.fontSize = `${childWidth/2}px`;\r\n\tappGame.style.gap = `${childWidth/12}px`\r\n}\r\n\r\nfunction newSetup() {\r\n\r\n\tnewGame.addEventListener('click', () => {\r\n\t\tlocalStorage.setItem('save', '');\r\n\t\tappGame.innerHTML = ''\r\n\r\n\t\tsetupGame()\r\n\t\tlocalStorage.setItem('time', appInfoTime.lastChild.textContent = '00:00');\r\n\t\ttime();\r\n\t\tclearTimeout(setTime);\r\n\r\n\t\tmoves = 0;\r\n\t\tappInfoMoves.lastChild.textContent = moves;\r\n\t\tappInfoTime.lastChild.textContent = '00:00';\r\n\t});\r\n}\r\n\r\nfunction setupGame() {\r\n\r\n\tlet arr = [];\r\n\r\n\tlet save = localStorage.getItem('save');\r\n\tif (save) {\r\n\t\tarr = JSON.parse(save);\r\n\t} else {\r\n\t\tfor (let i = 0; i < size ** 2; i++) {\r\n\t\t\tarr.push(i);\r\n\t\t}\r\n\r\n\t\tshuffle(arr)\r\n\t\twhile (!canItBeSolved(arr)) {\r\n\t\t\tshuffle(arr)\r\n\t\t}\r\n\t}\r\n\tsetup(arr)\r\n\r\n\t// let childWidth = appGame.firstElementChild.getBoundingClientRect().width;\r\n\r\n\t// console.log(appGame.firstElementChild)\r\n\tfontSize()\r\n\r\n\tfunction canItBeSolved(arr) {\r\n\t\tlet arrayCopy = arr.slice();\r\n\t\tlet couples = 0;\r\n\t\tlet emptyRow = Math.floor(arrayCopy.indexOf(0) / size);\r\n\t\tarrayCopy.splice(arrayCopy.indexOf(0),1);\r\n\r\n\t\tfor (let i = 0; i < arrayCopy.length; i++) {\r\n\t\t\tfor (let j = i; j < arrayCopy.length; j++) {\r\n\t\t\t\tif (arrayCopy[i] > arrayCopy[j]) {\r\n\t\t\t\t\tcouples++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(!(size**2 % 2 === 0) && (couples % 2 === 0)) return true;\r\n\t\telse if(!((couples + emptyRow) % 2 === 0) && (size**2 % 2 === 0)) return true;\r\n\t\telse return false;\r\n\t}\r\n\r\n\tfunction shuffle(arr) {\r\n\t\tfor (let i = arr.length - 1; i > 0; i--) {\r\n\t\t\tlet j = Math.floor(Math.random() * (i + 1));\r\n\t\t\t[arr[i], arr[j]] = [arr[j], arr[i]];\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setup(arr) {\r\n\r\n\t\tfor (let i = 0; i < arr.length; i++) {\r\n\t\t\tlet gameItem = document.createElement('div');\r\n\t\t\tgameItem.classList.add('game-item');\r\n\t\t\tgameItem.textContent = arr[i];\r\n\t\t\tgameItem.dataset.targetValue = arr[i];\r\n\t\t\tgameItem.dataset.currentValue = i + 1;\r\n\t\t\tif (arr[i] === 0) {\r\n\t\t\t\tgameItem.classList.add('game-item_empty');\r\n\t\t\t\tgameItem.textContent = '';\r\n\t\t\t\tgameItem.dataset.targetValue = size ** 2;\r\n\t\t\t}\r\n\t\t\tif (+gameItem.dataset.targetValue === +gameItem.dataset.currentValue && +gameItem.dataset.targetValue != size ** 2) {\r\n\t\t\t\tgameItem.style.background = 'rgb(232, 138, 69)';\r\n\t\t\t}\r\n\t\t\tappGame.append(gameItem);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction time() {\r\n\r\n\tappGame.addEventListener('click', timeTrigger)\r\n\r\n\tfunction timeTrigger() {\r\n\t\tclearTimeout(setTime);\r\n\t\tsetTime = setInterval(timeLoad, 1000);\r\n\t\tappGame.removeEventListener('click', timeTrigger)\r\n\t}\r\n\r\n\ttimeLoad.minutes = 0;\r\n\ttimeLoad.seconds = 0;\r\n\r\n\tlet localTIme = localStorage.getItem('time');\r\n\tif (localTIme) {\r\n\t\tappInfoTime.lastChild.textContent = localTIme;\r\n\t\ttimeLoad.minutes = +parseInt(localTIme.slice(0, 2).match(/\\d+/));\r\n\t\ttimeLoad.seconds = +parseInt(localTIme.slice(3).match(/\\d+/));\r\n\r\n\t}\r\n\r\n\tfunction timeLoad() {\r\n\t\ttimeLoad.seconds += 1;\r\n\t\tif (timeLoad.seconds == 60) {\r\n\t\t\ttimeLoad.seconds = 0;\r\n\t\t\ttimeLoad.minutes += 1;\r\n\t\t}\r\n\t\tif (timeLoad.minutes >= 10 && timeLoad.seconds >= 10) {\r\n\t\t\tappInfoTime.lastChild.textContent = `${timeLoad.minutes}:${timeLoad.seconds}`\r\n\t\t} else if (timeLoad.minutes >= 10) {\r\n\t\t\tappInfoTime.lastChild.textContent = `${timeLoad.minutes}:0${timeLoad.seconds}`\r\n\t\t} else if (timeLoad.seconds >= 10) {\r\n\t\t\tappInfoTime.lastChild.textContent = `0${timeLoad.minutes}:${timeLoad.seconds}`\r\n\t\t} else appInfoTime.lastChild.textContent = `0${timeLoad.minutes}:0${timeLoad.seconds}`\r\n\t}\r\n}\r\n\r\nfunction soundButton() {\r\n\tappButtonsSound.addEventListener('click', (event) => sound(event));\r\n\r\n\tfunction sound(event) {\r\n\t\tevent.currentTarget.classList.toggle('sound-active');\r\n\t\tisSounded = !isSounded;\r\n\t}\r\n}\r\n\r\nfunction rulesDescription() {\r\n\r\n\tappGame.addEventListener('click', (event) => rule(event))\r\n\tfunction rule(event) {\r\n\t\tconst emptyItem = document.querySelector('.game-item_empty');\r\n\r\n\t\tlet isItem = (event.target.classList.contains('game-item') && !event.target.classList.contains('game-item_empty'));\r\n\t\tlet targetCurrentValue = event.target.dataset.currentValue;\r\n\t\tlet targetTargetValue = event.target.dataset.targetValue;\r\n\t\tlet emptyCurrentValue = emptyItem.dataset.currentValue;\r\n\t\tlet emptyTargetValue = emptyItem.dataset.targetValue;\r\n\t\tif (isItem && ((+targetCurrentValue + +size == emptyCurrentValue)\r\n\t\t\t|| (targetCurrentValue - size == emptyCurrentValue)\r\n\t\t\t|| ((targetCurrentValue - 1 == emptyCurrentValue) && ((targetCurrentValue - 1) % size != 0))\r\n\t\t\t|| ((+targetCurrentValue + 1 == emptyCurrentValue) && ((emptyCurrentValue - 1) % size != 0)))) {\r\n\r\n\t\t\tmoves += 1;\r\n\t\t\tappInfoMoves.lastChild.textContent = moves;\r\n\t\t\tif (isSounded) {\r\n\t\t\t\taudio.play();\r\n\t\t\t}\r\n\r\n\t\t\temptyItem.textContent = targetTargetValue;\r\n\t\t\temptyItem.dataset.targetValue = targetTargetValue;\r\n\t\t\tevent.target.dataset.targetValue = emptyTargetValue;\r\n\t\t\tevent.target.textContent = '';\r\n\t\t\temptyItem.style.scale = '1.15'\r\n\t\t\tsetTimeout(() => emptyItem.style.scale = '', 150)\r\n\t\t\temptyItem.classList.remove('game-item_empty');\r\n\t\t\tevent.target.classList.add('game-item_empty');\r\n\t\t\tif (emptyItem.dataset.targetValue === emptyItem.dataset.currentValue) {\r\n\t\t\t\temptyItem.style.background = 'rgb(232, 138, 69)';\r\n\t\t\t}\r\n\t\t\tif (event.target.style.background === 'rgb(232, 138, 69)') {\r\n\t\t\t\tevent.target.style.background = ''\r\n\t\t\t}\r\n\t\t\tif (event.target.dataset.currentValue == size ** 2\r\n\t\t\t\t&& Array.from(appGame.children).every(item => item.dataset.currentValue == item.dataset.targetValue)) {\r\n\t\t\t\tpopUp();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n\r\nfunction setDrags() {\r\n\tlet dragObj;\r\n\tlet appLeft;\r\n\tlet appTop;\r\n\tappGame.onmousedown = function (event) {\r\n\t\tconst emptyItem = document.querySelector('.game-item_empty');\r\n\r\n\t\tlet isItem = (event.target.classList.contains('game-item') && !event.target.classList.contains('game-item_empty'));\r\n\t\tlet targetCurrentValue = event.target.dataset.currentValue;\r\n\t\tlet targetTargetValue = event.target.dataset.targetValue;\r\n\t\tlet emptyCurrentValue = emptyItem.dataset.currentValue;\r\n\t\tlet emptyTargetValue = emptyItem.dataset.targetValue;\r\n\t\tif (isItem && ((+targetCurrentValue + +size == emptyCurrentValue)\r\n\t\t\t|| (targetCurrentValue - size == emptyCurrentValue)\r\n\t\t\t|| ((targetCurrentValue - 1 == emptyCurrentValue) && ((targetCurrentValue - 1) % size != 0))\r\n\t\t\t|| ((+targetCurrentValue + 1 == emptyCurrentValue) && ((emptyCurrentValue - 1) % size != 0)))) {\r\n\t\t\tappLeft = event.clientX - event.currentTarget.getBoundingClientRect().left\r\n\t\t\tappTop = event.clientY - event.currentTarget.getBoundingClientRect().top\r\n\t\t\tevent.target.style.position = 'relative';\r\n\t\t\tlet rect = event.target.getBoundingClientRect();\r\n\t\t\tevent.target.dx = rect.left - event.clientX;\r\n\t\t\tevent.target.dy = rect.top - event.clientY;\r\n\t\t\tevent.target.isDown = true;\r\n\t\t\tdragObj = event.target;\r\n\t\t}\r\n\t}\r\n\tappGame.onmouseup = function (event) {\r\n\t\tconst emptyItem = document.querySelector('.game-item_empty');\r\n\r\n\t\tlet isItem = (event.target.classList.contains('game-item') && !event.target.classList.contains('game-item_empty'));\r\n\t\tlet targetCurrentValue = event.target.dataset.currentValue;\r\n\t\tlet targetTargetValue = event.target.dataset.targetValue;\r\n\t\tlet emptyCurrentValue = emptyItem.dataset.currentValue;\r\n\t\tlet emptyTargetValue = emptyItem.dataset.targetValue;\r\n\t\tif (isItem && ((+targetCurrentValue + +size == emptyCurrentValue)\r\n\t\t\t|| (targetCurrentValue - size == emptyCurrentValue)\r\n\t\t\t|| ((targetCurrentValue - 1 == emptyCurrentValue) && ((targetCurrentValue - 1) % size != 0))\r\n\t\t\t|| ((+targetCurrentValue + 1 == emptyCurrentValue) && ((emptyCurrentValue - 1) % size != 0)))) {\r\n\t\t\tevent.target.style.position = 'static';\r\n\t\t\tevent.target.style.left = '0'\r\n\t\t\tevent.target.style.top = '0'\r\n\t\t\tevent.target.isDown = false;\r\n\t\t}\r\n\t}\r\n\tdocument.onmousemove = function (event) {\r\n\t\tif (dragObj && dragObj.isDown) {\r\n\t\t\tdragObj.style.left = event.pageX - appGame.offsetLeft - appLeft + dragObj.dx / 999 + \"px\";\r\n\t\t\tdragObj.style.top = event.pageY - appGame.offsetTop - appTop + dragObj.dy / 999 + \"px\";\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nfunction popUp() {\r\n\tpopupElem.style.visibility = 'unset';\r\n\tclearTimeout(setTime);\r\n\tpopupTimeElem.textContent = appInfoTime.lastChild.textContent;\r\n\tpopupMovesElem.textContent = appInfoMoves.lastChild.textContent;\r\n}\r\n\r\nfunction popupClose() {\r\n\ttop();\r\n\tpopupElem.style.visibility = 'hidden';\r\n\tlocalStorage.setItem('save', '');\r\n\tappGame.innerHTML = ''\r\n\tsetupGame()\r\n\tlocalStorage.setItem('time', appInfoTime.lastChild.textContent = '00:00');\r\n\ttime();\r\n\tmoves = 0;\r\n\tappInfoMoves.lastChild.textContent = moves;\r\n\tappInfoTime.lastChild.textContent = '00:00';\r\n}\r\n\r\nfunction top() {\r\n\tlet minutes = +parseInt(appInfoTime.lastChild.textContent.slice(0, 2).match(/\\d+/));\r\n\tlet seconds = +parseInt(appInfoTime.lastChild.textContent.slice(3).match(/\\d+/));\r\n\tseconds += minutes * 60;\r\n\tlet obj = {\r\n\t\t'1 tiles time': (seconds / (size ** 2)).toFixed(2),\r\n\t\t'format': `${size}x${size}`,\r\n\t\t'moves': moves,\r\n\t\t'time': appInfoTime.lastChild.textContent,\r\n\t}\r\n\r\n\r\n\tlet table = document.createElement('tr');\r\n\ttable.innerHTML = `\r\n\t<th>${obj['1 tiles time']}</th>\r\n\t<th>${obj['format']}</th>\r\n\t<th>${obj['moves']}</th>\r\n\t<th>${obj['time']}</th>`;\r\n\ttopPopupTable.firstElementChild.append(table);\r\n\r\n\r\n\tlet arr = []\r\n\tif (localStorage.getItem('top')) {\r\n\t\tarr = JSON.parse(localStorage.getItem('top'));\r\n\t}\r\n\tif (arr.length > 9) {\r\n\t\tlet biggest = arr[0]['1 tiles time'];\r\n\t\tlet biggestIndex = 0;\r\n\t\tarr.forEach((item, index) => {\r\n\t\t\tif (biggest < item['1 tiles time']) {\r\n\t\t\t\tbiggest = item['1 tiles time'];\r\n\t\t\t\tbiggestIndex = index;\r\n\t\t\t}\r\n\t\t})\r\n\t\tarr[biggestIndex] = obj;\r\n\t} else {\r\n\t\tarr.push(obj);\r\n\t}\r\n\r\n\tlocalStorage.setItem('top', JSON.stringify(arr))\r\n}\r\n\r\nappButtonsResults.addEventListener('click', getTop)\r\nfunction getTop() {\r\n\ttopPopup.style.visibility = 'unset';\r\n}\r\ntopPopup.addEventListener('click', (event) => event.target == topPopup ? topPopup.style.visibility = 'hidden' : '')\r\n\r\nfunction topTable() {\r\n\tif(localStorage.getItem('top')) {\r\n\t\tlet arr = JSON.parse(localStorage.getItem('top'));\r\n\t\tarr.forEach(obj => {\r\n\t\t\tlet table = document.createElement('tr');\r\n\t\t\ttable.innerHTML = `\r\n\t\t\t<th>${obj['1 tiles time']}</th>\r\n\t\t\t<th>${obj['format']}</th>\r\n\t\t\t<th>${obj['moves']}</th>\r\n\t\t\t<th>${obj['time']}</th>`;\r\n\t\t\ttopPopupTable.firstElementChild.append(table);\r\n\t\t})\r\n\t}\r\n}\r\ntopTable();\r\n\r\npopupCloseElem.addEventListener('click', popupClose)\r\npopupBodyElem.addEventListener('click', (event) => event.target == popupBodyElem ? popupClose() : '')\r\n\r\nwindow.addEventListener('beforeunload', setLocalStorage);\r\nfunction setLocalStorage() {\r\n\tlet arr = [];\r\n\tarr = Array.from(appGame.children)\r\n\tarr = arr.map(element => +element.dataset.targetValue == size ** 2 ? 0 : +element.dataset.targetValue)\r\n\tlocalStorage.setItem('size', size)\r\n\tlocalStorage.setItem('save', JSON.stringify(arr));\r\n\tlocalStorage.setItem('moves', appInfoMoves.lastChild.textContent);\r\n\tlocalStorage.setItem('time', appInfoTime.lastChild.textContent);\r\n}\r\nwindow.addEventListener('load', getLocalStorage);\r\nfunction getLocalStorage() {\r\n\tif (localStorage.getItem('moves')) {\r\n\t\tlet localMoves = localStorage.getItem('moves');\r\n\t\tappInfoMoves.lastChild.textContent = localMoves;\r\n\t\tmoves = +localMoves;\r\n\t}\r\n}\r\n\r\nsetupGame()\r\nrulesDescription()\r\ntime()\r\nsoundButton()\r\nnewSetup()\r\nsetDrags()\r\n\r\nsizes.querySelector('.app__size_3').addEventListener('click', () => mainFunc(3));\r\nsizes.querySelector('.app__size_4').addEventListener('click', () => mainFunc(4));\r\nsizes.querySelector('.app__size_5').addEventListener('click', () => mainFunc(5));\r\nsizes.querySelector('.app__size_6').addEventListener('click', () => mainFunc(6));\r\nsizes.querySelector('.app__size_7').addEventListener('click', () => mainFunc(7));\r\nsizes.querySelector('.app__size_8').addEventListener('click', () => mainFunc(8));\r\n\r\nfunction mainFunc(value) {\r\n\tsize = value;\r\n\tappGame.style.gridTemplateRows = `repeat(${value}, 1fr)`;\r\n\tappGame.style.gridTemplateColumns = `repeat(${value}, 1fr)`;\r\n\tlocalStorage.setItem('save', '');\r\n\tappGame.innerHTML = ''\r\n\tsetupGame()\r\n\tlocalStorage.setItem('time', appInfoTime.lastChild.textContent = '');\r\n\ttime();\r\n\tclearTimeout(setTime);\r\n\tmoves = 0;\r\n\tappInfoMoves.lastChild.textContent = moves;\r\n\tappInfoTime.lastChild.textContent = '00:00';\r\n}\r\nconsole.log('Немного не правильно понял пунтик о сохранении состояния, видимо для этого должна была быть специальная кнопка.. В общем в моей реализации сохранение состояния происходит всегда при перезагрузке страницы. Начать новую игру и обновить состояние можно через кнопку \"New game\", либо выбрав другой формат игры. А так вроде бы все пункты выполнены, во всяком случае не нарушают критерии оценки')"],"names":["__webpack_require__","g","globalThis","this","Function","e","window","scriptUrl","importScripts","location","document","currentScript","src","scripts","getElementsByTagName","length","Error","replace","p","sizes","querySelector","appGame","newGame","appInfoMoves","appInfoTime","popupElem","popupBodyElem","popupCloseElem","popupTimeElem","popupMovesElem","appButtonsResults","topPopup","topPopupTable","appButtonsSound","audio","Audio","click","volume","size","setTime","isSounded","moves","fontSize","childWidth","getBoundingClientRect","style","gap","setupGame","arr","save","localStorage","getItem","JSON","parse","i","push","shuffle","canItBeSolved","arrayCopy","slice","couples","emptyRow","Math","floor","indexOf","splice","j","random","gameItem","createElement","classList","add","textContent","dataset","targetValue","currentValue","background","append","setup","time","addEventListener","timeTrigger","clearTimeout","setInterval","timeLoad","removeEventListener","minutes","seconds","localTIme","lastChild","parseInt","match","popupClose","obj","toFixed","table","innerHTML","firstElementChild","biggest","biggestIndex","forEach","item","index","setItem","stringify","visibility","mainFunc","value","gridTemplateRows","gridTemplateColumns","matchMedia","matches","event","target","Array","from","children","map","element","localMoves","emptyItem","isItem","contains","targetCurrentValue","targetTargetValue","emptyCurrentValue","emptyTargetValue","play","scale","setTimeout","remove","every","rule","currentTarget","toggle","sound","dragObj","appLeft","appTop","onmousedown","clientX","left","clientY","top","position","rect","dx","dy","isDown","onmouseup","onmousemove","pageX","offsetLeft","pageY","offsetTop","setDrags","console","log"],"sourceRoot":""}